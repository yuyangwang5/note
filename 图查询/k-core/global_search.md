# 论文 The Community-search Problem and How to Plan a Successful Cocktail Party 笔记
2010

### 问题定义

#### Problem 1 (Generic objective function:) 
给无向完全图$G=(V,E)$，查询点集$Q \subseteq V$，优良度评价函数$f$(goodness function)，找到一个诱导子图$H=(V_H, E_H)$，使得：  
(i) $V_H$ 属于$Q(Q\subseteq V_H)$；  
(ii) $H$ 连通；  
(iii) $f(H)$在所有可行的$H$选择中最大。

在本文中，将关注$f_m$，$f_m(H)$表示$H$中所有节点度数的最小值，它有助于防止并入离$Q$很远的社区。

另一种防止并入离查询节点很远的社区的方法，为设置距离约束。  
设$d_G(v,q)$ 为$G$中$d$与$q$最短路径的距离。则  
$D_Q(G, v) = \sum_{q\in Q} d_G(v,q)^2$，用节点v离Q中所有查询节点的距离的平方和表示v到Q的距离；  
$D_Q(G) = max_{v\in V(G)}\{D_Q(G, v)\}$，用最大的v到Q距离值作为图的一个距离属性。  

由此，可以定义第二类问题：
#### Problem 2
给无向完全图$G=(V,E)$，查询点集$Q \subseteq V$，距离限制参数$d$，找到一个诱导子图$H=(V_H, E_H)$，使得：  
(i) $V_H$ 属于$Q(Q\subseteq V_H)$；  
(ii) $H$ 连通；  
(iii) $D_Q(H) \le d$；  
(iv) $f_m(H)$在所有可行的$H$选择中最大。

### 无大小约束的社区
在该阶段将不考虑社区大小约束，即下面提及问题2，拿掉约束$D_Q(H) \le d$。

最开始，先提出一个解决Problem 2的算法，此处命名为Greedy。该算法步骤为：  
1. 设$G_0 = G$为输入的图。之后每一步都会删除$G_0$中的一个节点。
2. 设$u$为$G_{t-1}$中拥有最小度数的节点；
3. 在第t步中，删掉$G_{t-1}$中u和与u临接的边，获得$G_t$；
4. 若 (i) 查询点集Q中有一个节点成为了度数最小节点 或 (ii) 从$G_{t-1}$去除点后Q不再连通，则在第t步停止，返回$G_{t-1}$。

实现此算法时，可以使用一个表来存储节点。该表行数等于图中所有节点中的最大读书，行号代表节点，相同度数的节点存储于同一行，同时拥有参数(设为$d_{min}$)实时更新度数最小节点所在的行。删除u时，u的邻居节点由d行移到d-1行。由该过程可知$d_{min}$最多会往行号减小的方向移动一格。

Theorem 1 设G为图，Q为查询点集，算法Greedy返回的为问题2的最优解。

PROOF. 设$G_O$为该问题的最优解。假设在GREEDY的第t步$G_O$中第一次有点（设为v）被选择（要消除）。由于$G_O$中第一次有节点被选，也就是说从G到$G_t$所删掉的所有节点并没有出现于$G_O$中，即$G_O$为$G_T$的子图。由此，在$G_t$中，一定有个连通分量（设为$G_{t}^{'}$），其为$G_O$的超图（supergraph）。由此，因为在$G_t$和$G_O$中，v均为度数最小的节点，而v仅可能与$G_{t}^{'}$上的点相连，所以有$\delta_{G_{t}^{'}}(v) \ge \delta_{G_{O}}(v)$。此时，$G_{t}^{'}$就拥有最优的最小度数属性。  
(欠缺的证明：v为Q中节点或删去v后，$G_{t}^{'}$的Q不连通)

实际上，对于$f$，可以推广到任意单调函数，Greedy都能寻找到关于Problem 2的最优解。

Definition 1（单调函数）  
设V为一组节点，$\mathcal{G}_V$是所有可以在V上定义的图的集合，$f$是以$\mathcal{G}_V$的图为输入、分数为输出的一个函数，即$f:\mathcal{G}_V \rightarrow \mathbb{R}$。则$f$为单调函数当且仅当对于每个G，任何G的导出子图，均有：$f(H) \le f(G)$ 或 $f(H) \ge f(G)$。

Definition 2（节点单调函数）  
设$\mathcal{G}_V$定义同 Definition 1，$f$输入为$\mathcal{G}_V$的图和V上任意一个点的为输入、分数为输出的一个函数，即$f:\mathcal{G}_V \rightarrow \mathbb{R}$。则$f$为单调函数当且仅当对于每个G，任何G的导出子图，均有：$f(H) \le f(G)$ 或 $f(H) \ge f(G)$。



